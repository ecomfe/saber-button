<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Button - Saber UI Demo</title>
    <link rel="stylesheet" href="demo.css">
    <script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-6-6/esl.js"></script>
    <script>
    require.config({
        paths: {
            css: 'css'
        },
        packages: [
            {
                name: 'saber-ui',
                location: '../dep/saber-ui/src',
                main: 'ui'
            },
            {
                name: 'saber-lang',
                location: '../dep/saber-lang/src',
                main: 'main'
            },
            {
                name: 'saber-dom',
                location: '../dep/saber-dom/src',
                main: 'main'
            },

            {
                name: 'saber-emitter',
                location: '../dep/saber-emitter/src',
                main: 'emitter'
            },

            {
                name: 'saber-tap',
                location: '../dep/saber-tap/src',
                main: 'tap'
            },
        
            {
                name: 'saber-control',
                location: '../dep/saber-control/src',
                main: 'main'
            },

            {
                name: 'saber-button',
                location: '../src',
                main: 'button'
            }
        ]
    });
    </script>

</head>

<body>
    <header>Button</header>

    <div class="container">
        <h2>静态化构建</h2>
        <div id="wrapper1" class="wrapper">
            <button data-ui="type: Button">完全默认</button>
            <button data-ui="type:Button; id:defaultBtn;">指定id</button>
            <button data-ui="type: Button; content: 指定文字;">默认文字</button>
            <button data-ui="type: Button; height: 40px; width: 120px;">指定高宽(40/120)</button>
            <button data-ui="type: Button;">
                <span>button > span</span>
            </button>
            <div data-ui="type:Button;id:actBtn;">改变文字</div>
            <a data-ui="type: Button;">&lt;a&gt;元素</a>
            <a data-ui="type: Button;id:linkOpBtn">disable上个按钮</a>
            <span data-ui="type:Button;id:springBtn;skin:spring">spring皮肤</span>
            <div data-ui="type:Button;id:springAddBtn;skin:spring-add">添加</div>
            <div data-ui="type:Button;id:springAddBtn;skin:spring-add-right">在右</div>
            <div data-ui="type:Button;skin:spring-add-top;">图标在上</div>
            <div data-ui="type:Button;skin:spring-add-bottom;">图标在下</div>
        </div>

        <h2>动态化创建</h2>
        <div id="wrapper2" class="wrapper"></div>
    </div>

    <script>
    require(
        ['saber-tap', 'saber-dom', 'saber-ui', 'saber-button', 'css!../src/button.css'],
        function( Tap, dom, ui, Button ) {
            var $ = dom.query;
            var wrapper1 = $( '#wrapper1' );
            var wrapper2 = $( '#wrapper2' );

            // 修正点击延迟
            Tap.mixin( $( '.container' ) );

            // 静态话
            buttons = ui.init( wrapper1, {} );
            buttons[ 5 ].onclick = function () {
                buttons[ 0 ].setContent( '新文字呦~~' );
            };
            ui.get( 'linkOpBtn' ).onclick = function() {
                var off = buttons[ 5 ].isDisabled();
                buttons[ 5 ].setDisabled( !off );
                this.setContent( ( off ? 'disable': 'enable' ) + '上个按钮' );
            };


            // 动态化
            var b1 = new Button();
            b1.appendTo( wrapper2 );
            b1.setContent( '完全默认' );
            
            var b2 = new Button( { id: 'defaultBtn2', content: '指定id' } );
            b2.appendTo( wrapper2 );
            
            var b3 = new Button( { content: '默认文字' } );
            b3.appendTo( wrapper2 );
            
            var b4 = new Button({
                content: '指定高宽(40/120)',
                height: '40px',
                width: '120px'
            });
            b4.appendTo( wrapper2 );
            
            var b5 = new Button( { content: '<span>button > span</span>' } );
            b5.appendTo( wrapper2 );
            
            var link1 = document.createElement('a');
            wrapper2.appendChild( link1 );
            var b6 = new Button({
                main: link1,
                content: '&lt;a&gt;元素'
            });
            b6.appendTo( wrapper2 );

            var link2 = document.createElement('a');
            wrapper2.appendChild( link2 );
            var b7 = new Button({
                main: link2,
                content: 'disable上个按钮'
            });
            b7.onclick = function() {
                var off = b6.isDisabled();
                b6.setDisabled( !off );
                this.setContent( ( off ? 'disable': 'enable' ) + '上个按钮' );
            };
            b7.appendTo( wrapper2 );

            var b8 = new Button({
                skin: 'spring',
                content: 'spring皮肤'
            });
            b8.appendTo( wrapper2 );

            var b9 = new Button({
                skin: 'spring-add',
                content: '添加'
            });
            b9.appendTo( wrapper2 );

            var b10 = new Button({
                skin: 'spring-add-right',
                content: '在右'
            });
            b10.appendTo( wrapper2 );

            var b11 = new Button({
                skin: 'spring-add-top',
                content: '图标在上'
            });
            b11.appendTo( wrapper2 );

            var b12 = new Button({
                skin: 'spring-add-bottom',
                content: '图标在下'
            });
            b12.appendTo( wrapper2 );

            var b13 = new Button( { content: '改变文字' } );
            b13.onclick = function () {
                b1.setContent( '新文字呦~~' );
            };
            b13.insertBefore( link1 );
        }
    );

    // http://alxgbsn.co.uk/2011/10/17/enable-css-active-pseudo-styles-in-mobile-safari/
    document.addEventListener("touchstart", function() {}, false);
    </script>
</body>
</html>
